



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DIAS Logging &mdash; DIAS-Documentation 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Protopeer" href="../protopeer.html" />
    <link rel="prev" title="Multi-machine Setup" href="multi.machine.setup.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> DIAS-Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pre.requisites.html">Pre-requisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dias.in.detail.html">How DIAS Works</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../architecture.html">Deployment Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gateway.html">DIAS Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap.process.html">Bootstrap Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="mock.devices.html">Mock devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi.machine.setup.html">Multi-machine Setup</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">DIAS Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rawlog">RawLog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#initialisation">Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sql-table">SQL Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#eventlog">EventLog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">SQL Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#memlog">MemLog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">SQL Table</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../protopeer.html">Protopeer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dias-logging-system.html">DIAS Logging System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DIAS-Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../architecture.html">Deployment Architecture</a> &raquo;</li>
        
      <li>DIAS Logging</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/sections/architecture/dias.logging.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dias-logging">
<h1>DIAS Logging<a class="headerlink" href="#dias-logging" title="Permalink to this headline">¶</a></h1>
<p>The logging system used here can be found on <a href="https://github.com/epournaras/Logging-System" target="_blank">Github</a>.</p>
<p>The instructions on how to start the logging daemon can be found in the <a class="reference internal" href="../quickstart/launch.html#launching-dias"><span class="std std-ref">Launching DIAS</span></a> section.</p>
<p>There are 3 different Loggers, that can be used:</p>
<ul class="simple">
<li><a class="reference internal" href="#rawlog"><span class="std std-ref">RawLog</span></a></li>
<li><a class="reference internal" href="#eventlog"><span class="std std-ref">EventLog</span></a></li>
<li><a class="reference internal" href="#memlog"><span class="std std-ref">MemLog</span></a></li>
</ul>
<p>Before any of those loggers can be used, the persistence client needs to be set up:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pgpersist.PersistenceClient</span><span class="o">;</span>
<span class="cm">/*...*/</span>
<span class="n">persistenceClient</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PersistenceClient</span><span class="o">(</span><span class="n">zmqContext</span><span class="o">,</span> <span class="n">daemonConnectString</span><span class="o">,</span> <span class="n">persistenceClientOutputQueueSize</span><span class="o">);</span>
</pre></div>
</div>
<div class="section" id="rawlog">
<h2>RawLog<a class="headerlink" href="#rawlog" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>RawLog is designed as a drop-copy replacement for System.out.printf</li>
<li>The function takes 2 arguments<ul>
<li>The log level, a number between 1 and 3 representing respectively an information, a warning or an error message</li>
<li>Any string to be persisted</li>
</ul>
</li>
<li>The RawLog automatically records the id of the calling thread allowing insights into potential issues regarding thread synchronisation</li>
</ul>
<div class="section" id="initialisation">
<h3>Initialisation<a class="headerlink" href="#initialisation" title="Permalink to this headline">¶</a></h3>
<p>To create the RawLog, the persistenceClient needs to be set, as well as the logging level threshold, the peerID, and the networkID:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">RawLog</span><span class="o">.</span><span class="na">setPeristenceClient</span><span class="o">(</span><span class="n">persistenceClient</span><span class="o">);</span>
<span class="n">RawLog</span><span class="o">.</span><span class="na">setErrorLevelThreshold</span><span class="o">(</span><span class="n">rawLogLevel</span><span class="o">);</span> <span class="c1">// log all (1); only log warnings (2); errors (3)</span>
<span class="n">RawLog</span><span class="o">.</span><span class="na">setPeer</span><span class="o">(</span><span class="n">newPeer</span><span class="o">);</span>
<span class="n">RawLog</span><span class="o">.</span><span class="na">setDIASNetworkId</span><span class="o">(</span><span class="n">diasNetworkId</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<p>To log something, one just has to insert the following line:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">RawLog</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="s">&quot;Text to be logged&quot;</span><span class="o">);</span>
</pre></div>
</div>
<p>The ‘1’ specifies the error level, there is an internal level threshold, which can be set to a specific level.
<strong>Every level smaller to the threshold will not get logged.</strong></p>
</div>
<div class="section" id="sql-table">
<h3>SQL Table<a class="headerlink" href="#sql-table" title="Permalink to this headline">¶</a></h3>
<p>The underlying sql table looks like this:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">SQL field definition</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>seq_id SERIAL NOT NULL</td>
<td>The entry sequence id, created automatically</td>
</tr>
<tr class="row-odd"><td>dt TIMESTAMP NOT NULL</td>
<td>Timestampt of logged entry, measured automatically by the RawLog class</td>
</tr>
<tr class="row-even"><td>network INTEGER NOT NULL DEFAULT 0</td>
<td>The network id for the logged entry, 0 if not defined</td>
</tr>
<tr class="row-odd"><td>peer INTEGER NOT NULL</td>
<td>The peer number</td>
</tr>
<tr class="row-even"><td>epoch BIGINT NOT NULL</td>
<td>The epoch is System.currentTimeMillis()/1000</td>
</tr>
<tr class="row-odd"><td>thread_id INTEGER NOT NULL</td>
<td>The id of the thread triggering the log, measured automatically</td>
</tr>
<tr class="row-even"><td>error_level INTEGER NOT NULL</td>
<td>The error level of the logged event, 1 is normal, 2 is warning and 3 is error</td>
</tr>
<tr class="row-odd"><td>txt TEXT</td>
<td>The logged text</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="eventlog">
<h2>EventLog<a class="headerlink" href="#eventlog" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>EventLog is designed to understand code execution sequence within a peer and across multiple peers</li>
<li>It is different than RawLog in that it is structured, allowing for side-by-side comparison of events within and across peers</li>
<li>Furthermore, the EventLog automatically records the id of the calling thread allowing insights into potential issues regarding thread synchronisation</li>
</ul>
<div class="section" id="id1">
<h3>Initialisation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The initialisation is similar to the <a class="reference internal" href="#rawlog"><span class="std std-ref">RawLog</span></a>:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">EventLog</span><span class="o">.</span><span class="na">setPeristenceClient</span><span class="o">(</span><span class="n">persistenceClient</span><span class="o">);</span>
<span class="n">EventLog</span><span class="o">.</span><span class="na">setPeer</span><span class="o">(</span><span class="n">newPeer</span><span class="o">);</span>
<span class="n">EventLog</span><span class="o">.</span><span class="na">setDIASNetworkId</span><span class="o">(</span><span class="n">diasNetworkId</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Usage<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The logging function takes 4 arguments:</p>
<blockquote>
<div><ul class="simple">
<li>The name of the calling class, e.g. DIAS</li>
<li>The name of the calling function, e.g. start</li>
<li>A key, e.g. “alreadyStarted”</li>
<li>A value (text), e.g. “True”</li>
</ul>
</div></blockquote>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">EventLog</span><span class="o">.</span><span class="na">logEvent</span><span class="o">(</span><span class="s">&quot;DIAS&quot;</span><span class="o">,</span> <span class="s">&quot;start&quot;</span><span class="o">,</span> <span class="s">&quot;alreadyStarted&quot;</span><span class="o">,</span> <span class="n">Boolean</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">alreadyStarted</span><span class="o">));</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>SQL Table<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">SQL field definition</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>seq_id SERIAL NOT NULL</td>
<td>The entry sequence id, created automatically</td>
</tr>
<tr class="row-odd"><td>dt TIMESTAMP NOT NULL</td>
<td>Timestampt of logged entry, measured automatically by the RawLog class</td>
</tr>
<tr class="row-even"><td>current_time_millis BIGINT NOT NULL</td>
<td>The current time in milliseconds</td>
</tr>
<tr class="row-odd"><td>network INTEGER NOT NULL DEFAULT 0</td>
<td>The network id for the logged entry, 0 if not defined</td>
</tr>
<tr class="row-even"><td>peer INTEGER NOT NULL</td>
<td>The peer number</td>
</tr>
<tr class="row-odd"><td>epoch BIGINT NOT NULL</td>
<td>The epoch is System.currentTimeMillis()/1000</td>
</tr>
<tr class="row-even"><td>peer_event_counter BIGINT NOT NULL</td>
<td>An internal counter of the events inside the peer</td>
</tr>
<tr class="row-odd"><td>thread_id INTEGER NOT NULL</td>
<td>The id of the thread triggering the log, measured automatically</td>
</tr>
<tr class="row-even"><td>classname TEXT NOT NULL</td>
<td>The name of the caller class</td>
</tr>
<tr class="row-odd"><td>func TEXT NOT NULL</td>
<td>The name of the caller function</td>
</tr>
<tr class="row-even"><td>key TEXT</td>
<td>A key string for categorinsing the log</td>
</tr>
<tr class="row-odd"><td>value TEXT</td>
<td>The message to be logged</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="memlog">
<h2>MemLog<a class="headerlink" href="#memlog" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>MemLog is designed to periodically measure total memory footprint of any Java object in memory</li>
<li>It’s great for detecting memory leaks that appear over time, e.g over several weeks of operation</li>
<li>As explained below, MemLog uses the JAMM instrumentation agent, that traverses all elements and member variables of complex Java objects such as classes and containers</li>
</ul>
<div class="section" id="id4">
<h3>Initialisation<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The MemLog class is initialised similarly to the RawLog and EventLog classes above, with some notable differences</li>
<li>First, a Java instrumentation class, that will take the actual memory measurements, is required for the MemLog and must be passed as an argument to Memlog. More information about Java instrumentation can be found at TODO<ul>
<li>The particular instrumentation class used is JAMM (see references below). JAMM is a powerful Java instrumentation class that mesures the size of objects in memory. For containers, JAMM actually traverses the containers and measures the size of each element, further traversing each element if it is a container. This recursive approach allows proper estimation of the memory footprint of an object.</li>
</ul>
</li>
<li>Second, the period for taking snapshots<ul>
<li>Memlog will periodically compute the memory footprint of each object that was added with add_object(), at the period specificed in startTimer()</li>
</ul>
</li>
</ul>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="c1">// initialise MemLog</span>
<span class="kd">final</span> <span class="n">MemoryMeter</span> <span class="n">instrument</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MemoryMeter</span><span class="o">();</span>
<span class="k">if</span><span class="o">(!</span><span class="n">MemoryMeter</span><span class="o">.</span><span class="na">hasInstrumentation</span><span class="o">())</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span> <span class="s">&quot;MemLog: No instrumentation\n&quot;</span><span class="o">);</span>
<span class="k">else</span> <span class="o">{</span>
  <span class="n">MemLog</span><span class="o">.</span><span class="na">setPersistenceClient</span><span class="o">(</span><span class="n">persistenceClient</span><span class="o">);</span>
  <span class="n">MemLog</span><span class="o">.</span><span class="na">setMeasurementInstrument</span><span class="o">(</span><span class="n">instrument</span><span class="o">);</span>
  <span class="n">MemLog</span><span class="o">.</span><span class="na">setPeer</span><span class="o">(</span><span class="n">newPeer</span><span class="o">);</span>
  <span class="n">MemLog</span><span class="o">.</span><span class="na">setDIASNetworkId</span><span class="o">(</span><span class="n">diasNetworkId</span><span class="o">);</span>
  <span class="n">MemLog</span><span class="o">.</span><span class="na">startTimer</span><span class="o">(</span><span class="mi">60</span><span class="o">);</span>

  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span> <span class="s">&quot;MemLog setup\n&quot;</span> <span class="o">);</span>
  <span class="n">MemLog</span><span class="o">.</span><span class="na">add_object</span><span class="o">(</span><span class="s">&quot;Peer&quot;</span><span class="o">,</span> <span class="s">&quot;Peer&quot;</span><span class="o">,</span> <span class="n">newPeer</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>Note:</strong> the timer period is specified in <em>seconds</em> and <strong>not</strong> in milliseconds.</p>
</div>
<div class="section" id="id5">
<h3>Usage<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Objects where memory monitoring is required need to be added with a call to add_object, that takes 3 arguments<ul>
<li>Arguments one and two are simple tags that will allow you<ul>
<li>In the example below, we are using the class in which the object belongs and the name of the instantiated object</li>
</ul>
</li>
<li>The third argument is a reference to the Java object to be monitored</li>
</ul>
</li>
<li>Once an object has been added, as per the example below, a sample of the total memory footprint of the object will be taken every 60 seconds and persisted to the memlog table</li>
</ul>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="n">MemLog</span><span class="o">.</span><span class="na">add_object</span><span class="o">(</span><span class="s">&quot;DIASlight&quot;</span><span class="o">,</span> <span class="s">&quot;dumper&quot;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">dumper</span><span class="o">);</span>
</pre></div>
</div>
<p><strong>Note:</strong> dumper is just a random object to be measured.</p>
</div>
<div class="section" id="id6">
<h3>SQL Table<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">SQL field definition</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>seq_id SERIAL NOT NULL</td>
<td>The entry sequence id, created automatically</td>
</tr>
<tr class="row-odd"><td>dt TIMESTAMP NOT NULL</td>
<td>Timestampt of logged entry, measured automatically by the RawLog class</td>
</tr>
<tr class="row-even"><td>network INTEGER NOT NULL DEFAULT 0</td>
<td>The network id for the logged entry, 0 if not defined</td>
</tr>
<tr class="row-odd"><td>peer INTEGER NOT NULL</td>
<td>The peer number</td>
</tr>
<tr class="row-even"><td>epoch BIGINT NOT NULL</td>
<td>The epoch is System.currentTimeMillis()/1000</td>
</tr>
<tr class="row-odd"><td>object_group_name TEXT NOT NULL</td>
<td>A groupt name to categorise the objects in groups</td>
</tr>
<tr class="row-even"><td>object_name TEXT NOT NULL</td>
<td>The name of the object</td>
</tr>
<tr class="row-odd"><td>object_size_mb FLOAT</td>
<td>Can be null if the object is null</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../protopeer.html" class="btn btn-neutral float-right" title="Protopeer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="multi.machine.setup.html" class="btn btn-neutral float-left" title="Multi-machine Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Edward Gaere

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
    /*To underline text*/
    .underline {
      text-decoration: underline;
    }


      /*To underline bold text*/
      .underlinebold{
        text-decoration: underline;
        font-weight: bold;
      }

    /* Sidebar header (and topbar for mobile) */



      :root{
        --grey: rgb(231, 232, 233);
        --altblue: rgb(30,115,190);
        --blue: rgb(37, 117, 187);
      }

      /*link visited and unvisited color*/

      a {
        color: var(--grey);
        text-decoration: underline;
        cursor: pointer;
      }

      a:visited {
        color: var(--grey);
        text-decoration: underline;
        cursor: pointer;
      }

      /*footer colors*/

      footer{
        color:var(--grey)
      }

      a:hover {
        color: var(--grey);
        text-decoration: underline;
        cursor: pointer;
        text-decoration-color: var(--blue);
      }

     .wy-nav-side {

        /*background: rgb(30,115,190);*/
        background: var(--grey);
        color:/**#eee;*/var(--blue);


     }

     .wy-nav-content-wrap{
       background: var(--grey);
     }

     .wy-menu-vertical li.toctree-l1.current>a {
        color: var(--blue);
     }

     .wy-menu-vertical li.toctree-l2 a{
       color: var(--blue);
     }

     .wy-menu-vertical li.toctree-l2 a:hover{
       color: var(--grey);
       background:var(--blue);
     }

     .wy-menu-vertical li.toctree-l2.current li.toctree-l3>a:hover{
         color: var(--grey);
         background:var(--blue);
     }

     .wy-menu-vertical li.toctree-l3.current li.toctree-l4>a:hover{
           color: var(--grey);
           background:var(--blue);
     }

    .wy-side-nav-search {

        background:var(--grey); /*rgb(30,115,190);*/

    }

    .wy-menu-vertical a{
      color:var(--blue);
      text-decoration: none;
    }

    .wy-menu-vertical li.current{
        color:var(--blue);
    }

    .wy-menu-vertical li{
        color:var(--blue);
    }

    .wy-menu-vertival a:current {
      color:var(--grey);
    }

    .wy-menu-vertical a:hover{
        background-color:var(--blue);
        color:var(--grey);
    }

    .fa-home::before, .icon-home::before {
        content:"";
    }

    a.icon-home {
        width: 50%;
        margin-left: -6px;
        font-size: 0%;
        content:url("http://dias-net.org/wp-content/uploads/2016/08/silver-nodes-above-extended.png");
    }

    .wy-nav-content{
        max-width: initial;
        background:var(--blue);
        color:var(--grey);
    }

    /*nav top current directory, delete link underline*/
    .wy-breadcrumbs li a:first-child{
      text-decoration: none;
    }


    /*buton colors*/
    .btn-neutral {
        color: var(--blue) !important;
        background-color: var(--grey) !important;
    }
    .btn-neutral:visited {
        color: var(--blue) !important;
        background-color: var(--grey) !important;
    }

    /*codeblock color*/
    .rst-content div[class^='highlight'] pre{
      color:black;
      border-radius:3px; /*rounded corners*/
    }

    /*make sure tables do no have white backgrounds*/
    .rst-content table.docutils:not(.field-list) tr:nth-child(2n-1) td {
      background-color:var(--blue)
    }

    /*color of table header*/
    .rst-content table.docutils thead{
      color:var(--grey) !important;
    }

    /*table title thick border*/
    .rst-content table.docutils thead th{
      border-bottom: solid 2px;
      border-top: solid 2px;
      border-left: solid 2px;
      border-right: solid 2px;
    }

    /*code block line numbers*/
    div.linenodiv pre{
      color:var(--grey) !important;
      border-radius:0 !important;
    }

    /*codeblock grey background*/
    div.highlight pre{
      background-color:var(--grey);
    }

    /*rounded corners on images*/
    .rst-content .section>img{
      border-radius:3px;
    }

    /*rounded corners on codeblocks*/
    .rst-content div[class^='highlight']{
        border-radius:3px;
    }

  </style>


</body>
</html>